<template>
  <main class="page__content page">
    <InfoRestaurantList :list="data" />
  </main>
</template>

<script setup lang="ts">
import { IRestaurantDto } from '~/interface/Dto/Restaurant.dto'

const { $env, $log } = useNuxtApp()

const route = useRoute()

useHead({
  title: `–†–µ—Å—Ç–æ—Ä–∞–Ω—ã - ${$env.projectName}`,
})

const { data, error } = await useAsyncData(
  'organization/get-list',
  () =>
    useApi('organization/get-list', {
      method: 'GET',
      headers: useHeaders(),
    }) as Promise<IRestaurantDto[]>
)

$log.log('üßô‚Äç‚ôÇÔ∏è ASYNC RESTAURANTS', { data: data.value })
</script>

<style lang="scss" scoped>
.page {
  margin: 40px 0 120px;
}
</style>
